<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Assessor Menu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="visit-card">
    <div class="header">Assessor Competency Menu</div>
    <div class="details"><strong>👤 Assessor:</strong> <span id="assessor_name"></span></div>
    <div class="details"><strong>📍 Venue:</strong> <span id="venue"></span></div>
    <div class="details"><strong>📅 Date:</strong> <span id="assessment_date"></span></div>

    <div class="details">
      <label for="medicationType"><strong>💊 Choose Medication Type:</strong></label>
      <select id="medicationType">
        <option value="tablets">Tablets</option>
        <option value="liquids">Liquids</option>
        <option value="creams">Creams</option>
        <option value="eye-drops">Eye Drops</option>
        <option value="inhalers">Inhalers</option>
        <option value="patches">Transdermal Patches</option>
      </select>
    </div>

    <div style="text-align: center; margin-top: 1.5rem;">
      <button onclick="goToForm()">Start Assessment</button>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const assessor = localStorage.getItem("assessor_name") || "[Not set]";
      const venue = localStorage.getItem("venue") || "[Not set]";
      const date = new Date().toLocaleDateString("en-GB");

      document.getElementById("assessor_name").textContent = assessor;
      document.getElementById("venue").textContent = venue;
      document.getElementById("assessment_date").textContent = date;
    });

    function goToForm() {
      const utm_type = document.getElementById("medicationType").value;
      const url = new URL("medication_competency_form_assessor_ready.html", window.location.origin);

      url.searchParams.set("utm_type", utm_type);
      window.location.href = url.toString();
    }
  </script>
</body>
</html>
